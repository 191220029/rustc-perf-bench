/*! https://github.com/leeoniya/uPlot (v1.1.0) */
var uPlot=function(){"use strict";function n(n,e,t,r){var o;t=t||0;for(var i=2147483647>=(r=r||e.length-1);r-t>1;)n>e[o=i?t+r>>1:a((t+r)/2)]?t=o:r=o;return n-e[t]>e[r]-n?r:t}function e(n,e,t){return t?(n=c(10,a(v(n))),e=c(10,u(v(e)))):(n=x(n,c(10,a(v(n)))),e=g(e,c(10,a(v(e))))),[+n.toFixed(12),+e.toFixed(12)]}function t(n,e,t,r){var o=e-n,l=o||i(e)||1e3,u=v(l),s=c(10,a(u)),f=l*t,h=e+f,m=b(x(n-f,s/100)),p=b(g(h,s/100));return r&&(0==o?e>0?m=0:0>e&&(p=0):(n>=0&&0>m&&(m=0),0>=e&&p>0&&(p=0))),[m,p]}var r=new Intl.NumberFormat(navigator.language).format,o=Math,i=o.abs,a=o.floor,l=o.round,u=o.ceil,s=o.min,f=o.max,c=o.pow,v=o.log10,h=o.PI;function m(n,e){return l(n/e)*e}function p(n,e,t){return s(f(n,e),t)}function d(n){return"function"==typeof n?n:function(){return n}}function g(n,e){return u(n/e)*e}function x(n,e){return a(n/e)*e}function w(n){return l(1e3*n)/1e3}function b(n){return l(1e6*n)/1e6}function y(n,e,t){for(var r=[],o=n;e>o;o++)for(var a=c(10,o),l=0;t.length>l;l++)r.push(+(t[l]*a).toFixed(i(o)));return r}var M=Array.isArray;function k(n){return"object"==typeof n&&null!==n}function S(n){var e;if(M(n))e=n.map(S);else if(k(n))for(var t in e={},n)e[t]=S(n[t]);else e=n;return e}function T(n){for(var e=arguments,t=1;e.length>t;t++){var r=e[t];for(var o in r)k(n[o])?T(n[o],S(r[o])):n[o]=S(r[o])}return n}var D="width",Y="height",E="top",_="left",z=requestAnimationFrame,W=document,F=window,A=devicePixelRatio;function C(n,e){null!=e&&n.classList.add(e)}function H(n,e,t){n.style[e]=t+"px"}function P(n,e,t,r){var o=W.createElement(n);return null!=e&&C(o,e),null!=t&&t.insertBefore(o,r),o}function N(n,e){return P("div",n,e)}function I(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}var V={passive:!0};function L(n,e,t){e.addEventListener(n,t,V)}function B(n,e,t){e.removeEventListener(n,t,V)}var O=["January","February","March","April","May","June","July","August","September","October","November","December"],R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function U(n){return n.slice(0,3)}var j=R.map(U),J=O.map(U),G={MMMM:O,MMM:J,WWWW:R,WWW:j};function Z(n){return(10>n?"0":"")+n}var q={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,e){return e.MMMM[n.getMonth()]},MMM:function(n,e){return e.MMM[n.getMonth()]},MM:function(n){return Z(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return Z(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,e){return e.WWWW[n.getDay()]},WWW:function(n,e){return e.WWW[n.getDay()]},HH:function(n){return Z(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return Z(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return Z(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function X(n,e){e=e||G;for(var t,r=[],o=/\{([a-z]+)\}|[^{]+/gi;t=o.exec(n);)r.push("{"==t[0][0]?q[t[1]]:t[0]);return function(n){for(var t="",o=0;r.length>o;o++)t+="string"==typeof r[o]?r[o]:r[o](n,e);return t}}var K=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Q=[1,2,5],$=y(-16,0,Q),nn=y(0,16,Q),en=$.concat(nn),tn=3600,rn=86400,on=30*rn,an=365*rn,ln=[5e-4].concat(y(-3,0,Q),[1,5,10,15,30,60,300,600,900,1800,tn,7200,3*tn,4*tn,6*tn,8*tn,43200,rn,2*rn,3*rn,4*rn,5*rn,6*rn,7*rn,8*rn,9*rn,10*rn,15*rn,on,2*on,3*on,4*on,6*on,an,2*an,5*an,10*an,25*an,50*an,100*an]);function un(n,e){return n.map((function(n){return[n[0],e(n[1]),n[2],e(n[4]?n[1]+n[3]:n[3])]}))}var sn="{M}/{D}",fn="\n"+sn,cn="{h}:{mm}{aa}",vn=[[an,"{YYYY}",7,"",1],[28*rn,"{MMM}",7,"\n{YYYY}",1],[rn,sn,7,"\n{YYYY}",1],[tn,"{h}{aa}",4,fn,1],[60,cn,4,fn,1],[1,":{ss}",2,fn+" "+cn,1],[.001,":{ss}.{fff}",2,fn+" "+cn,1]];function hn(n,e){return function(t,r,o,i,a){var l=e.find((function(n){return a>=n[0]}))||e[e.length-1],u=null,s=null,f=null;return r.map((function(e){var t=n(e),r=t.getFullYear(),o=t.getDate(),i=t.getMinutes(),a=r!=u,c=o!=s,v=i!=f;return u=r,s=o,f=i,(7==l[2]&&a||4==l[2]&&c||2==l[2]&&v?l[3]:l[1])(t)}))}}function mn(n,e,t){return new Date(n,e,t)}function pn(n,e){return e(n)}function dn(n,e){return function(t,r){return e(n(r))}}var gn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n,e){var t=n.series[e],r=N();r.style.background=t.stroke||"#000";var o=Cn(t.width,1),i=(o-1)/-2;return H(r,D,o),H(r,Y,o),H(r,"marginLeft",i),H(r,"marginTop",i),r}},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null,dataIdx:function(n,e,t){return t}},xn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},wn=T({},xn,{size:10}),bn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',yn="bold "+bn,Mn={show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:yn,side:2,grid:xn,ticks:wn,font:bn,rotate:0},kn={show:!0,scale:"x",sorted:1,min:1/0,max:-1/0,idxs:[]};function Sn(n,e){return e.map(r)}function Tn(n,e,t,r,o,i,a){for(var l=[],u=t=a?t:+g(t,o).toFixed(12);r>=u;u=+(u+o).toFixed(12))l.push(u);return l}function Dn(n,e,t,r,o){var i=[];o=c(10,a(v(t)));var l=t;do{i.push(l),10*o>(l=+(l+o).toFixed(12))||(o=l)}while(r>=l);return i}var Yn=/./,En=/[12357]/,_n=/[125]/,zn=/1/;function Wn(n,e,t){var o=n.axes[t],i=o.scale,a=n.valToPos,l=o.space(),u=a(10,i),s=a(9,i)-u<l?a(7,i)-u<l?a(5,i)-u<l?zn:_n:En:Yn;return e.map((function(n){return s.test(n)?r(n):""}))}function Fn(n,e){return r(e)}var An={show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:yn,side:3,grid:xn,ticks:wn,font:bn,rotate:0};function Cn(n,e){return w((3+2*(n||1))*e)}var Hn={scale:"y",sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,e){var t=Cn(n.series[e].width,A),r=n.series[0].idxs;return n.bbox.width/t/2>=r[1]-r[0]}},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},Pn={time:!0,auto:!0,distr:1,min:null,max:null},Nn=T({},Pn,{time:!1}),In={};function Vn(){var n=[];return{sub:function(e){n.push(e)},unsub:function(e){n=n.filter((function(n){return n!=e}))},pub:function(e,t,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=t&&n.pub(e,t,r,o,i,a,l)}))}}}function Ln(n,e,t,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return Bn(n,r,e,t)}))}function Bn(n,e,t,r){return T({},0==e||n&&n.side%2==0?t:r,n)}function On(n,e){return 3==e.distr?v(n/e.min)/v(e.max/e.min):(n-e.min)/(e.max-e.min)}function Rn(n,e,t,r){return r+(1-On(n,e))*t}function Un(n,e,t,r){return r+On(n,e)*t}function jn(n,e,t){return[e,t>e?t:t+86400]}function Jn(n,e,t){var r=t-e;if(0==r){var o=v(r||i(t)||1),l=a(o)+1;return[e,g(t,c(10,l))]}return[e,t]}function Gn(n,e,r){return t(e,r,.1,!0)}function Zn(n,t,r){return e(t,r)}function qn(n,t,r){return e(t,r)}function Xn(n){return 0==n.button}function Kn(n){var e;return[n=n.replace(/\d+/,(function(n){return e=l(n*A)})),e]}function Qn(e,t,r){var o={},u=o.root=N("uplot");null!=e.id&&(u.id=e.id),C(u,e.class),e.title&&(N("u-title",u).textContent=e.title);var x=P("canvas"),y=o.ctx=x.getContext("2d"),k=N("u-wrap",u),V=N("u-under",k);k.appendChild(x);var O=N("u-over",k);((e=S(e)).plugins||[]).forEach((function(n){n.opts&&(e=n.opts(o,e)||e)}));var R=!1,U=o.series=Ln(e.series||[],kn,Hn,!1),j=o.axes=Ln(e.axes||[],Mn,An,!0),J=o.scales=T({},{x:Pn,y:Nn},e.scales),G=T({x:l(An.size/2),y:l(Mn.size/3)},e.gutters),Z=e.tzDate||function(n){return new Date(1e3*n)},q=e.fmtDate||X,K=function(n){return function(e,t,r,o,i,l){var u=[],s=i>=on&&an>i,f=n(r),c=f/1e3,v=mn(f.getFullYear(),f.getMonth(),s?1:f.getDate()),h=v/1e3;if(s)for(var m=i/on,p=c==h?c:mn(v.getFullYear(),v.getMonth()+m,1)/1e3,d=new Date(1e3*p),x=d.getFullYear(),y=d.getMonth(),M=0;o>=p;M++){var k=mn(x,y+m*M,1);(p=(+k+(k-n(k/1e3)))/1e3)>o||u.push(p)}else{var S=rn>i?i:rn,T=h+(a(r)-a(c))+g(c-h,S);u.push(T);for(var D=n(T),Y=D.getHours()+D.getMinutes()/60+D.getSeconds()/tn,E=i/tn,_=l/e.axes[t].space();;){T=w(T+i);var z=a(b(Y+E))%24,W=n(T).getHours()-z;if(W>1&&(W=-1),(T-=W*tn)>o)break;Y=(Y+E)%24,.7>w((T-u[u.length-1])/i)*_||u.push(T)}}return u}}(Z),Q=hn(Z,un(vn,q)),$=dn(Z,pn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",q)),sn={};for(var fn in J){var cn=J[fn];null==cn.min&&null==cn.max||(sn[fn]={min:cn.min,max:cn.max})}var xn,wn,bn=T({show:!0,live:!0},e.legend),yn=bn.show,Yn=[],En=!1;if(yn){xn=P("table","u-legend",u);var _n=U[1]?U[1].values:null;if(En=null!=_n){var zn=P("tr","u-thead",xn);for(var On in P("th",null,zn),wn=_n(o,1,0))P("th","u-label",zn).textContent=On}else wn={_:0},C(xn,"u-inline"),bn.live&&C(xn,"u-live")}var Qn=o.cursor=T({},gn,e.cursor);Qn.points.show=d(Qn.points.show);var $n=o.focus=T({},e.focus||{alpha:.3},Qn.focus),ne=$n.prox>=0,ee=[null];function te(n,e){var t=n.scale,r=J[t]=T({},0==e?Pn:Nn,J[t]),i=r.time,a=3==r.distr;r.range=d(r.range||(i?jn:0==e?a?Zn:Jn:a?qn:Gn));var l=n.value;if(n.value=i?function(n){return"string"==typeof n}(l)?dn(Z,pn(l,q)):l||$:l||Fn,n.label=n.label||(i?"Time":"Value"),e>0){n.width=null==n.width?1:n.width,n.paths=n.paths||Pe;var u=Cn(n.width,1);n.points=T({},{size:u,width:f(1,.2*u)},n.points),n.points.show=d(n.points.show),n._paths=null}if(yn&&Yn.splice(e,0,function(n,e){if(0==e&&(En||!bn.live))return null;var t=[],r=P("tr","u-series",xn,xn.childNodes[e]);C(r,n.class),n.show||C(r,"u-off");var o=P("th",null,r),i=N("u-marker",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=N("u-label",o);for(var l in a.textContent=n.label,e>0&&(L("click",o,(function(e){Qn.locked||Xn(e)&&Ke(U.indexOf(n),{show:!n.show},kt.setSeries)})),ne&&L("mouseenter",o,(function(){Qn.locked||Ke(U.indexOf(n),{focus:!0},kt.setSeries)}))),wn){var u=P("td","u-value",r);u.textContent="--",t.push(u)}return t}(n,e)),Qn.show){var s=function(n,e){if(e>0){var t=Qn.points.show(o,e);if(t)return C(t,"u-cursor-pt"),C(t,n.class),I(t,-10,-10),O.insertBefore(t,ee[e]),t}}(n,e);s&&ee.splice(e,0,s)}}o.addSeries=function(n,e){n=Bn(n,e=null==e?U.length:e,kn,Hn),U.splice(e,0,n),te(U[e],e)},o.delSeries=function(n){U.splice(n,1),yn&&Yn.splice(n,1)[0][0].parentNode.remove(),ee.length>1&&ee.splice(n,1)[0].remove()},U.forEach(te);var re,oe=U[0].scale,ie=J[oe].distr;for(var ae in J){var le=J[ae];null!=le.from&&(J[ae]=T({},J[le.from],le))}j.forEach((function(n){if(n.show){var e=J[n.scale];null==e&&(n.scale=n.side%2?U[1].scale:oe,e=J[n.scale]);var t=e.time;n.space=d(n.space),n.rotate=d(n.rotate),n.incrs=d(n.incrs||(2==e.distr?nn:t?ln:en)),n.splits=d(n.splits||(t&&1==e.distr?K:3==e.distr?Dn:Tn));var r=n.values;n.values=t?M(r)?hn(Z,un(r,q)):r||Q:r||(3==e.distr?Wn:Sn),n.font=Kn(n.font),n.labelFont=Kn(n.labelFont)}}));var ue,se,fe,ce,ve,he,me,pe,de,ge,xe=null,we=null,be=U[0].idxs,ye=null;function Me(n,e){if((n=n||[])[0]=n[0]||[],o.data=n,t=n.slice(),re=(ye=t[0]).length,2==ie&&(t[0]=ye.map((function(n,e){return e}))),Ve(),Mt("setData"),!1!==e){var r=J[oe];r.auto?ke():Xe(oe,r.min,r.max)}}function ke(){xe=be[0]=0,we=be[1]=re-1,Xe(oe,2==ie?xe:t[0][xe],2==ie?we:t[0][we])}function Se(n,e,t,r){y.strokeStyle=n||"#000",y.lineWidth=e,y.lineJoin="round",y.setLineDash(t||[]),y.fillStyle=r||"#000"}function Te(n,e){o.width=ue=fe=n,o.height=se=ce=e,ve=he=0,function(){var n=!1,e=!1,t=!1,r=!1;j.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(fe-=l,3==i?(ve+=l,r=!0):t=!0):(ce-=l,0==i?(he+=l,n=!0):e=!0))}})),(n||e)&&(t||(fe-=G.x),r||(fe-=G.x,ve+=G.x)),(r||t)&&(e||(ce-=G.y),n||(ce-=G.y,he+=G.y))}(),function(){var n=ve+fe,e=he+ce,t=ve,r=he;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(e+=i)-i;case 3:return(t-=i)+i;case 0:return(r-=i)+i}}j.forEach((function(n){var e=n.side;n._pos=o(e,n.size),null!=n.label&&(n._lpos=o(e,n.labelSize))}))}();var t=o.bbox;me=t[_]=m(ve*A,.5),pe=t.top=m(he*A,.5),de=t[D]=m(fe*A,.5),ge=t[Y]=m(ce*A,.5),H(V,_,ve),H(V,E,he),H(V,D,fe),H(V,Y,ce),H(O,_,ve),H(O,E,he),H(O,D,fe),H(O,Y,ce),H(k,D,ue),H(k,Y,se),x[D]=l(ue*A),x[Y]=l(se*A),ct(),R&&Xe(oe,J[oe].min,J[oe].max),R&&Mt("setSize")}function De(){if(rt)it=!0;else{if(re>0){var e=S(J);for(var r in e){var i=e[r],a=sn[r];null!=a?(T(i,a),r==oe&&Ve()):r!=oe&&(i.min=1/0,i.max=-1/0)}for(var l in U.forEach((function(r,i){var a=r.scale,l=e[a];if(0==i){var u=l.range(o,l.min,l.max,a);l.min=u[0],l.max=u[1],xe=n(l.min,t[0]),we=n(l.max,t[0]),l.min>t[0][xe]&&xe++,t[0][we]>l.max&&we--,r.min=ye[xe],r.max=ye[we]}else if(r.show&&null==sn[a]){var c=r.min==1/0?l.auto?function(n,e,t,r){var o=1/0,i=-1/0;if(1==r)o=n[e],i=n[t];else if(-1==r)o=n[t],i=n[e];else for(var a=e;t>=a;a++)null!=n[a]&&(o=s(o,n[a]),i=f(i,n[a]));return[o,i]}(t[i],xe,we,r.sorted):[0,100]:[r.min,r.max];l.min=s(l.min,r.min=c[0]),l.max=f(l.max,r.max=c[1])}r.idxs[0]=xe,r.idxs[1]=we})),e){var u=e[l];if(null==u.from&&u.min!=1/0&&null==sn[l]){var c=u.range(o,u.min,u.max,l);u.min=c[0],u.max=c[1]}}for(var v in e){var h=e[v];if(null!=h.from){var m=e[h.from];if(m.min!=1/0){var p=h.range(o,m.min,m.max,v);h.min=p[0],h.max=p[1]}}}var d={};for(var g in e){var x=e[g],w=J[g];w.min==x.min&&w.max==x.max||(w.min=x.min,w.max=x.max,d[g]=!0)}for(var b in U.forEach((function(n){d[n.scale]&&(n._paths=null)})),d)Mt("setScale",b)}for(var y in sn)sn[y]=null;Qn.show&&st()}}o.setData=Me,o.bbox={},o.setSize=function(n){Te(n.width,n.height)};var Ye,Ee,_e,ze,We,Fe,Ae,Ce=1;function He(n,e,t){var r=n[n.length-1];r&&r[0]==e?r[1]=t:n.push([e,t])}function Pe(n,e,r,o){var i,a,u=U[e],c=t[0],v=t[e],h=J[oe],m=J[u.scale],p=1==Ce?{stroke:new Path2D,fill:null,clip:null}:U[e-1]._paths,d=p.stroke,g=w(u[D]*A),x=1/0,b=-1/0,y=[],M=l(Un(c[1==Ce?r:o],h,de,me));u.band&&1==Ce&&r==xe&&(g&&d.lineTo(-g,l(Rn(v[r],m,ge,pe))),c[0]>h.min&&y.push([me,M-1]));for(var k=1==Ce?r:o;k>=r&&o>=k;k+=Ce){var S=l(Un(c[k],h,de,me));if(S==M)null!=v[k]&&(i=l(Rn(v[k],m,ge,pe)),x=s(i,x),b=f(i,b));else{var T=!1;x!=1/0?(d.lineTo(M,x),d.lineTo(M,b),d.lineTo(M,i),a=M):T=!0,null!=v[k]?(i=l(Rn(v[k],m,ge,pe)),d.lineTo(S,i),x=b=i,S-M>1&&null==v[k-1]&&(T=!0)):(x=1/0,b=-1/0),T&&He(y,a,S),M=S}}if(null==v[o]&&He(y,a,M),u.band){var Y,E,_=100*g;-1==Ce&&r==xe&&(E=me-_,Y=r),1==Ce&&o==we&&(E=me+de+_,Y=o,h.max>c[re-1]&&y.push([M,me+de])),d.lineTo(E,l(Rn(v[Y],m,ge,pe)))}if(1==Ce&&(p.clip=function(n,e,t,r){var o=null;if(e.length>0){if(U[n].spanGaps){var i=e[0],a=e[e.length-1];e=[],t&&e.push(i),r&&e.push(a)}o=new Path2D;for(var l=me,u=0;e.length>u;u++){var s=e[u];o.rect(l,pe,s[0]-l,pe+ge),l=s[1]}o.rect(l,pe,me+de-l,pe+ge)}return o}(e,y,null==v[r],null==v[o]),null!=u.fill)){var z=p.fill=new Path2D(d),W=l(Rn(0,m,ge,pe));z.lineTo(me+de,W),z.lineTo(me,W)}return u.band&&(Ce*=-1),p}function Ne(n,e,t,r){var i,a=j[n];if(r>0){var l=a.space(o,n,e,t,r);i=function(n,e,t,r){for(var o=t/n,i=0;e.length>i;i++){var a=e[i]*o;if(a>=r)return[e[i],a]}}(t-e,a.incrs(o,n,e,t,r,l),r,l)}else i=[0,0];return i}function Ie(n,e,t,r,o,i,a,l){var u=i%2/2;y.translate(u,u),Se(a,i,l),y.beginPath();var s,f,c,v,h=r+(0==t||3==t?-o:o);0==e?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==e?s=c=n:f=v=n,y.moveTo(s,f),y.lineTo(c,v)})),y.stroke(),y.translate(-u,-u)}function Ve(){U.forEach((function(n,e){e>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function Le(){rt?ot=!0:(y.clearRect(0,0,x[D],x[Y]),Mt("drawClear"),function(){j.forEach((function(n,e){if(n.show){var t=J[n.scale];if(t.min!=1/0){var r=n.side,i=r%2,a=t.min,u=t.max,s=Ne(e,a,u,0==i?fe:ce),f=s[0],c=s[1],v=n.splits(o,e,a,u,f,c,2==t.distr),m=0==i?Un:Rn,p=0==i?de:ge,d=0==i?me:pe,g=v.map((function(n){return l(m(n,t,p,d))})),x=l(n.gap*A),b=n.ticks,M=b.show?l(b.size*A):0,k=n.values(o,2==t.distr?v.map((function(n){return ye[n]})):v,e,c,2==t.distr?ye[v[1]]-ye[v[0]]:f),S=2==r?n.rotate(o,k,e,c)*-h/180:0,T=l(n._pos*A),Y=T+(M+x)*(0==i&&0==r||1==i&&3==r?-1:1),z=0==i?Y:0,W=1==i?Y:0;y.font=n.font[0],y.fillStyle=n.stroke||"#000",y.textAlign=S>0?_:0>S?"right":0==i?"center":3==r?"right":_,y.textBaseline=S||1==i?"middle":2==r?E:"bottom";var F=1.5*n.font[1];if(k.forEach((function(n,e){0==i?W=g[e]:z=g[e],(""+n).split(/\n/gm).forEach((function(n,e){S?(y.save(),y.translate(W,z+e*F),y.rotate(S),y.fillText(n,0,0),y.restore()):y.fillText(n,W,z+e*F)}))})),n.label){y.save();var C=l(n._lpos*A);1==i?(W=z=0,y.translate(C,l(pe+ge/2)),y.rotate((3==r?-h:h)/2)):(W=l(me+de/2),z=C),y.font=n.labelFont[0],y.textAlign="center",y.textBaseline=2==r?E:"bottom",y.fillText(n.label,W,z),y.restore()}b.show&&Ie(g,i,r,T,M,w(b[D]*A),b.stroke);var H=n.grid;H.show&&Ie(g,i,0==i?2:1,0==i?pe:me,0==i?ge:de,w(H[D]*A),H.stroke,H.dash)}}})),Mt("drawAxes")}(),function(){U.forEach((function(n,e){if(e>0&&n.show&&re>0&&null==n._paths){var r=function(n){for(var e=p(xe-1,0,re-1),t=p(we+1,0,re-1);null==n[e]&&e>0;)e--;for(;null==n[t]&&re-1>t;)t++;return[e,t]}(t[e]);n._paths=n.paths(o,e,r[0],r[1])}})),U.forEach((function(n,e){e>0&&n.show&&(n._paths&&function(n){var e=U[n];if(1==Ce){var t=e._paths,r=t.stroke,o=t.fill,i=t.clip,a=w(e[D]*A),l=a%2/2;Se(e.stroke,a,e.dash,e.fill),y.globalAlpha=e.alpha,y.translate(l,l),y.save();var u=me,s=pe,f=de,c=ge,v=a*A/2;0==e.min&&(c+=v),0==e.max&&(s-=v,c+=v),y.beginPath(),y.rect(u,s,f,c),y.clip(),null!=i&&y.clip(i),e.band?(y.fill(r),a&&y.stroke(r)):(a&&y.stroke(r),null!=e.fill&&y.fill(o)),y.restore(),y.translate(-l,-l),y.globalAlpha=1}e.band&&(Ce*=-1)}(e),n.points.show(o,e,xe,we)&&function(n){var e=U[n],r=e.points,o=w(r.width*A),i=o%2/2,a=r.width>0,u=(r.size-r.width)/2*A,s=w(2*u);y.translate(i,i),y.save(),y.beginPath(),y.rect(me-s,pe-s,de+2*s,ge+2*s),y.clip(),y.globalAlpha=e.alpha;for(var f=new Path2D,c=xe;we>=c;c++)if(null!=t[n][c]){var v=l(Un(t[0][c],J[oe],de,me)),m=l(Rn(t[n][c],J[e.scale],ge,pe));f.moveTo(v+u,m),f.arc(v,m,u,0,2*h)}Se(r.stroke||e.stroke||"#000",o,null,r.fill||(a?"#fff":e.stroke||"#000")),y.fill(f),a&&y.stroke(f),y.globalAlpha=1,y.restore(),y.translate(-i,-i)}(e),Mt("drawSeries",e))}))}(),Ye=!0,Mt("draw"))}function Be(e,r){var o=J[e];if(null==o.from){if(e==oe&&(2==o.distr&&(r.min=n(r.min,t[0]),r.max=n(r.max,t[0])),o.time&&j[0].show&&r.max>r.min&&.001>Ne(0,r.min,r.max,fe)[0]))return;sn[e]=r,Ye=!1,De(),!Ye&&Le(),Ye=!1}}o.redraw=function(n){!1!==n?Xe(oe,J[oe].min,J[oe].max):Le()},o.setScale=Be;var Oe=!1,Re=Qn.drag,Ue=Re.x,je=Re.y;Qn.show&&(Qn.x&&(Fe=Qn.left,Ee=N("u-cursor-x",O)),Qn.y&&(Ae=Qn.top,_e=N("u-cursor-y",O)));var Je=o.select=T({show:!0,left:0,width:0,top:0,height:0},e.select),Ge=Je.show?N("u-select",O):null;function Ze(n,e){if(Je.show){for(var t in n)H(Ge,t,Je[t]=n[t]);!1!==e&&Mt("setSelect")}}function qe(n){var e=yn?Yn[n][0].parentNode:null;U[n].show?e&&function(n){n.classList.remove("u-off")}(e):(e&&C(e,"u-off"),ee.length>1&&I(ee[n],0,-10))}function Xe(n,e,t){Be(n,{min:e,max:t})}function Ke(n,e,t){var r=U[n];if(null!=e.focus&&function(n){n!=nt&&(U.forEach((function(e,t){!function(n,e){var t=U[n];Qe(n,e),t.band&&Qe(U[n+1].band?n+1:n-1,e)}(t,null==n||0==t||t==n?1:$n.alpha)})),nt=n,Le())}(n),null!=e.show){if(r.show=e.show,qe(n),r.band){var i=U[n+1]&&U[n+1].band?n+1:n-1;U[i].show=r.show,qe(i)}Xe(oe,J[oe].min,J[oe].max)}Mt("setSeries",n,e),t&&Tt.pub("setSeries",o,n,e)}function Qe(n,e){U[n].alpha=e,Qn.show&&ee[n]&&(ee[n].style.opacity=e),yn&&Yn[n]&&(Yn[n][0].parentNode.style.opacity=e)}o.setSelect=Ze,o.setSeries=Ke;var $e=Array(U.length),nt=null;function et(n,e){var t=fe;e!=oe&&(n=(t=ce)-n);var r=n/t,o=J[e],i=o.min,a=o.max;return 3==o.distr?(i=v(i),a=v(a),c(10,i+(a-i)*r)):i+(a-i)*r}function tt(e){return n(et(e,oe),t[0],xe,we)}yn&&ne&&L("mouseleave",xn,(function(){Qn.locked||(Ke(null,{focus:!1},kt.setSeries),st())})),o.valToIdx=function(e){return n(e,t[0])},o.posToIdx=tt,o.posToVal=et,o.valToPos=function(n,e,t){return e==oe?Un(n,J[e],t?de:fe,t?me:0):Rn(n,J[e],t?ge:ce,t?pe:0)};var rt=!1,ot=!1,it=!1,at=!1;function lt(n){rt=!0,n(o),rt=!1,it&&De(),at&&st(),ot&&!Ye&&Le(),it=at=ot=Ye=rt}o.batch=lt,o.setCursor=function(n){Fe=n.left,Ae=n.top,st()};var ut=0;function st(n,e){if(rt)at=!0;else{var r;if(ut=0,Qn.show&&(Qn.x&&I(Ee,l(Fe),0),Qn.y&&I(_e,0,l(Ae))),0>Fe||0==re||xe>we){r=null;for(var a=0;U.length>a;a++)if(a>0&&($e[a]=1/0,ee.length>1&&I(ee[a],-10,-10)),yn&&bn.live){if(0==a&&En)continue;for(var u=0;Yn[a].length>u;u++)Yn[a][u].firstChild.nodeValue="--"}ne&&Ke(null,{focus:!0},kt.setSeries)}else{r=tt(Fe);for(var f=J[oe],c=w(Un(t[0][r],f,fe,0)),v=0;U.length>v;v++){var h=U[v],m=Qn.dataIdx(o,v,r),p=m==r?c:w(Un(t[0][m],f,fe,0));if(v>0&&h.show){var d=t[v][m],g=null==d?-10:w(Rn(d,J[h.scale],ce,0));$e[v]=g>0?i(g-Ae):1/0,ee.length>1&&I(ee[v],p,g)}else $e[v]=1/0;if(yn&&bn.live){if(m==Qn.idx||0==v&&En)continue;var x=0==v&&2==ie?ye:t[v],b=En?h.values(o,v,m):{_:h.value(o,x[m],v,m)},y=0;for(var M in b)Yn[v][y++].firstChild.nodeValue=b[M]}}}if(Je.show&&Oe){var k=i(Fe-ze),S=i(Ae-We);if(null!=e){var T=kt.scales,z=T[0],W=T[1],F=e.cursor.drag;if(Ue=F._x,je=F._y,z){var A=J[z],C=e.posToVal(e.select[_],z),P=e.posToVal(e.select[_]+e.select[D],z);Je[_]=Un(C,A,fe,0),Je[D]=i(Je[_]-Un(P,A,fe,0)),H(Ge,_,Je[_]),H(Ge,D,Je[D]),W||(H(Ge,E,Je.top=0),H(Ge,Y,Je[Y]=ce))}if(W){var N=J[W],V=e.posToVal(e.select.top,W),L=e.posToVal(e.select.top+e.select[Y],W);Je.top=Rn(V,N,ce,0),Je[Y]=i(Je.top-Rn(L,N,ce,0)),H(Ge,E,Je.top),H(Ge,Y,Je[Y]),z||(H(Ge,_,Je[_]=0),H(Ge,D,Je[D]=fe))}}else{Ue=Re.x&&k>=Re.dist,je=Re.y&&S>=Re.dist;var B=Re.uni;if(null!=B?Ue&&je&&(je=S>=B,(Ue=k>=B)||je||(S>k?je=!0:Ue=!0)):Re.x&&Re.y&&(Ue||je)&&(Ue=je=!0),Ue){var O=s(ze,Fe);H(Ge,_,Je[_]=O),H(Ge,D,Je[D]=k),je||(H(Ge,E,Je.top=0),H(Ge,Y,Je[Y]=ce))}if(je){var j=s(We,Ae);H(Ge,E,Je.top=j),H(Ge,Y,Je[Y]=S),Ue||(H(Ge,_,Je[_]=0),H(Ge,D,Je[D]=fe))}Ue||je||(H(Ge,Y,Je[Y]=0),H(Ge,D,Je[D]=0))}}if(Qn.idx=r,Qn.left=Fe,Qn.top=Ae,Re._x=Ue,Re._y=je,null!=n&&(Tt.pub("mousemove",o,Fe,Ae,fe,ce,r),ne)){var G=s.apply(null,$e),Z=null;G>$n.prox||$e.some((function(n,e){if(n==G)return Z=e})),Ke(Z,{focus:!0},kt.setSeries)}R&&Mt("setCursor")}}var ft=null;function ct(){ft=O.getBoundingClientRect()}function vt(n,e,t,r,o,i){Qn.locked||(ht(n,e,t,r,o,i,0,!1,null!=n),null!=n?0==ut&&(ut=z(st)):st(null,e))}function ht(n,e,t,r,o,i,a,l,u){if(null!=n)t=n.clientX-ft.left,r=n.clientY-ft.top;else{if(0>t||0>r)return Fe=-10,void(Ae=-10);var s=kt.scales,f=s[0],c=s[1];t=null!=f?Un(e.posToVal(t,f),J[f],fe,0):fe*(t/o),r=null!=c?Rn(e.posToVal(r,c),J[c],ce,0):ce*(r/i)}u&&(t>1&&fe-1>t||(t=m(t,fe)),r>1&&ce-1>r||(r=m(r,ce))),l?(ze=t,We=r):(Fe=t,Ae=r)}function mt(){Ze({width:0,height:0},!1)}function pt(n,e,t,r,i,a){(null!=e||Xn(n))&&(Oe=!0,Ue=je=Re._x=Re._y=!1,ht(n,e,t,r,i,a,0,!0,!1),null!=n&&(L("mouseup",W,dt),Tt.pub("mousedown",o,ze,We,fe,ce,null)))}function dt(n,e,t,r,i,a){if(null!=e||Xn(n)){Oe=Re._x=Re._y=!1,ht(n,e,t,r,i,a,0,!1,!0);var l=Je[D]>0||Je[Y]>0;l&&Ze(Je),Re.setScale&&l?(lt((function(){if(Ue&&Xe(oe,et(Je[_],oe),et(Je[_]+Je[D],oe)),je)for(var n in J)n!=oe&&null==J[n].from&&Xe(n,et(Je.top+Je[Y],n),et(Je.top,n))})),mt()):Qn.lock&&(Qn.locked=!Qn.locked,Qn.locked||st())}null!=n&&(B("mouseup",W,dt),Tt.pub("mouseup",o,Fe,Ae,fe,ce,null))}function gt(){if(!Qn.locked){var n=Oe;if(Oe){var e=!0,t=!0;if(Ue&&je&&(e=10>=Fe||Fe>=fe-10,t=10>=Ae||Ae>=ce-10),Ue&&e){var r=Fe,o=fe-Fe,i=s(r,o);i==r&&(Fe=0),i==o&&(Fe=fe)}if(je&&t){var a=Ae,l=ce-Ae,u=s(a,l);u==a&&(Ae=0),u==l&&(Ae=ce)}st(1),Oe=!1}Fe=-10,Ae=-10,st(1),n&&(Oe=n)}}function xt(n){ke(),mt(),null!=n&&Tt.pub("dblclick",o,Fe,Ae,fe,ce,null)}var wt,bt={};bt.mousedown=pt,bt.mousemove=vt,bt.mouseup=dt,bt.dblclick=xt,bt.setSeries=function(n,e,t,r){Ke(t,r)},Qn.show&&(L("mousedown",O,pt),L("mousemove",O,vt),L("mouseenter",O,ct),L("mouseleave",O,(function(){z(gt)})),L("dblclick",O,xt),wt=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(ct),L("resize",F,wt),L("scroll",F,wt),o.syncRect=ct);var yt=o.hooks=e.hooks||{};function Mt(n,e,t){n in yt&&yt[n].forEach((function(n){n.call(null,o,e,t)}))}(e.plugins||[]).forEach((function(n){for(var e in n.hooks)yt[e]=(yt[e]||[]).concat(n.hooks[e])}));var kt=T({key:null,setSeries:!1,scales:[oe,null]},Qn.sync),St=kt.key,Tt=null!=St?In[St]=In[St]||Vn():Vn();function Dt(){Te(e[D],e[Y]),Mt("init",e,t),Me(t||e.data,!1),sn[oe]?Be(oe,sn[oe]):ke(),Ze(Je,!1),R=!0,Mt("ready")}return Tt.sub(o),o.pub=function(n,e,t,r,o,i,a){bt[n](null,e,t,r,o,i,a)},o.destroy=function(){Tt.unsub(o),B("resize",F,wt),B("scroll",F,wt),u.remove(),Mt("destroy")},r?r instanceof HTMLElement?(r.appendChild(u),Dt()):r(o,Dt):Dt(),o}return Qn.assign=T,Qn.fmtNum=r,Qn.rangeNum=t,Qn.rangeLog=e,Qn.fmtDate=X,Qn.tzDate=function(n,e){var t;return"Etc/UTC"==e?t=new Date(+n+6e4*n.getTimezoneOffset()):e==K?t=n:(t=new Date(n.toLocaleString("en-US",{timeZone:e}))).setMilliseconds(n.getMilliseconds()),t},Qn}();
